"use strict";(globalThis.webpackChunkmi_documentacion=globalThis.webpackChunkmi_documentacion||[]).push([[148],{1041(e,t,n){n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>x,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"odoo/inventario-personalizado","title":"M\xf3dulo de Inventario Personalizado","description":"En esta secci\xf3n se detalla la creaci\xf3n de un esquema de tabla personalizado en Odoo para la gesti\xf3n de inventario, permitiendo la importaci\xf3n de listas con mapeo autom\xe1tico de campos.","source":"@site/docs/odoo/inventario-personalizado.md","sourceDirName":"odoo","slug":"/odoo/inventario-personalizado","permalink":"/Documentacion/docs/odoo/inventario-personalizado","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/odoo/inventario-personalizado.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introducci\xf3n a ODOO","permalink":"/Documentacion/docs/odoo/intro"},"next":{"title":"Gesti\xf3n de Permisos y Roles","permalink":"/Documentacion/docs/odoo/permisos-acceso"}}');var o=n(4848),a=n(8453);const l={sidebar_position:1},s="M\xf3dulo de Inventario Personalizado",r={},d=[{value:"Objetivo",id:"objetivo",level:2},{value:"Estructura de Datos",id:"estructura-de-datos",level:2},{value:"Implementaci\xf3n en Odoo (Versi\xf3n Community)",id:"implementaci\xf3n-en-odoo-versi\xf3n-community",level:2},{value:"1. Creaci\xf3n de Campos y Vista XML",id:"1-creaci\xf3n-de-campos-y-vista-xml",level:3},{value:"2. Automatizaci\xf3n con Acciones de Servidor",id:"2-automatizaci\xf3n-con-acciones-de-servidor",level:3},{value:"3. Importaci\xf3n de Datos",id:"3-importaci\xf3n-de-datos",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"m\xf3dulo-de-inventario-personalizado",children:"M\xf3dulo de Inventario Personalizado"})}),"\n",(0,o.jsx)(t.p,{children:"En esta secci\xf3n se detalla la creaci\xf3n de un esquema de tabla personalizado en Odoo para la gesti\xf3n de inventario, permitiendo la importaci\xf3n de listas con mapeo autom\xe1tico de campos."}),"\n",(0,o.jsx)(t.h2,{id:"objetivo",children:"Objetivo"}),"\n",(0,o.jsx)(t.p,{children:"El objetivo es extender el modelo de inventario de Odoo creando campos personalizados que coincidan con nuestra estructura de datos existente, facilitando as\xed la migraci\xf3n e importaci\xf3n masiva de informaci\xf3n."}),"\n",(0,o.jsx)(t.h2,{id:"estructura-de-datos",children:"Estructura de Datos"}),"\n",(0,o.jsx)(t.p,{children:"Se ha dise\xf1ado un esquema de tabla que incluye los siguientes campos personalizados:"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{style:{textAlign:"left"},children:"Campo (Nombre Etiqueta)"}),(0,o.jsx)(t.th,{style:{textAlign:"left"},children:"Tipo de Dato Sugerido"}),(0,o.jsx)(t.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Sucursal"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Many2one / Char"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Identificador de la sucursal donde se encuentra el bien."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"No. de Inventario"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Char"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"C\xf3digo \xfanico de identificaci\xf3n del inventario."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Descripci\xf3n"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Text"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Descripci\xf3n detallada del producto o activo."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Ubicaci\xf3n"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Many2one / Char"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Ubicaci\xf3n f\xedsica espec\xedfica dentro de la sucursal o almac\xe9n."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Cantidad"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Float / Integer"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Cantidad f\xedsica disponible."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"U.M."})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Many2one (uom.uom)"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Unidad de Medida (ej. Piezas, Kg, Lt)."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Precio Unitario"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Monetary / Float"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Precio de venta por unidad."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Tot. Precio"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Monetary / Float"}),(0,o.jsxs)(t.td,{style:{textAlign:"left"},children:["C\xe1lculo autom\xe1tico: ",(0,o.jsx)(t.code,{children:"Cantidad * Precio Unitario"}),"."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Costo Unitario"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Monetary / Float"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Costo de adquisici\xf3n por unidad."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Tot. Costo"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Monetary / Float"}),(0,o.jsxs)(t.td,{style:{textAlign:"left"},children:["C\xe1lculo autom\xe1tico: ",(0,o.jsx)(t.code,{children:"Cantidad * Costo Unitario"}),"."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"No. Lote Serie"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Char"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"N\xfamero de lote o serie para rastreabilidad."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Fecha de Vencimiento"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Date"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Fecha de caducidad del lote (si aplica)."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"C\xf3digo de Raz\xf3n"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Char / Selection"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"C\xf3digo para clasificar la raz\xf3n del movimiento o estado."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"left"},children:(0,o.jsx)(t.strong,{children:"Categor\xeda del producto"})}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Many2one (product.category)"}),(0,o.jsx)(t.td,{style:{textAlign:"left"},children:"Clasificaci\xf3n o familia a la que pertenece el producto."})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"implementaci\xf3n-en-odoo-versi\xf3n-community",children:"Implementaci\xf3n en Odoo (Versi\xf3n Community)"}),"\n",(0,o.jsx)(t.p,{children:"La implementaci\xf3n se realiz\xf3 directamente sobre la versi\xf3n gratuita de Odoo, utilizando el modo desarrollador para crear campos personalizados y editar la vista XML, complementado con Acciones de Servidor para los c\xe1lculos autom\xe1ticos."}),"\n",(0,o.jsx)(t.h3,{id:"1-creaci\xf3n-de-campos-y-vista-xml",children:"1. Creaci\xf3n de Campos y Vista XML"}),"\n",(0,o.jsxs)(t.p,{children:["Se crearon los campos necesarios directamente en el modelo de productos (",(0,o.jsx)(t.code,{children:"product.template"})," o ",(0,o.jsx)(t.code,{children:"product.product"}),") y se modific\xf3 la vista de lista para incluirlos."]}),"\n",(0,o.jsx)(t.p,{children:"A continuaci\xf3n se muestra el fragmento XML de la vista utilizada:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",children:'<list string="Product" multi_edit="1" sample="1">\n    <field name="product_variant_count" column_invisible="True"/>\n    <field name="sale_ok" column_invisible="True"/>\n    <field name="currency_id" column_invisible="True"/>\n    <field name="cost_currency_id" column_invisible="True"/>\n    <field name="is_favorite" widget="boolean_favorite" optional="show" nolabel="1"/>\n    \n    \x3c!-- Campos Personalizados --\x3e\n    <field name="x_Sucursal" string="Sucursal"/>\n    <field name="default_code" optional="show" string="No. de Inventario"/>\n    <field name="name" string="Descripci\xf3n"/>\n    <field name="x_Ubicacion_Marathon" string="Ubicaci\xf3n"/>\n    <field name="qty_available" string="Cantidad" decoration-danger="qty_available &lt; 0" optional="show" sum="Total On Hand" readonly="1"/>                \n    <field name="x_U_M_" string="U.M."/>\n    \n    <field name="list_price" string="Precio Unitario" widget="monetary" options="{\'currency_field\': \'currency_id\'}" optional="show" decoration-muted="not sale_ok"/>\n    \n    \x3c!-- Total Precio (Calculado) --\x3e\n    <field name="x_Tot_Precio" string="Tot. Precio"/>\n    \n    <field name="standard_price" widget="monetary" options="{\'currency_field\': \'cost_currency_id\'}" optional="show" readonly="1"/>\n    \n    \x3c!-- Total Costo (Calculado) --\x3e\n    <field name="x_Tot_Costo" string="Tot. Costo"/>\n    \n    <field name="x_No_Lote_Serie" string="No. Lote/Serie"/>\n    <field name="x_Codigo_Razon" string="C\xf3digo Raz\xf3n"/>\n    <field name="x_Notas" string="Notas"/>\n    \n    <field name="product_tag_ids" widget="many2many_tags" optional="hide"/>\n    <field name="barcode" optional="hide" readonly="product_variant_count != 1"/>\n    <field name="company_id" options="{\'no_create\': True}" groups="base.group_multi_company" optional="hide"/>\n    <field name="virtual_available" string="Forecasted" decoration-danger="virtual_available &lt; 0" optional="show" decoration-bf="1" sum="Total Forecasted" readonly="1"/>\n    <field name="categ_id" optional="hide"/>\n    <field name="type" optional="hide" readonly="1"/>\n    <field name="uom_id" readonly="1" optional="show" groups="uom.group_uom"/>\n    <field name="active" column_invisible="True"/>\n    <field name="activity_exception_decoration" widget="activity_exception"/>\n</list>\n'})}),"\n",(0,o.jsx)(t.h3,{id:"2-automatizaci\xf3n-con-acciones-de-servidor",children:"2. Automatizaci\xf3n con Acciones de Servidor"}),"\n",(0,o.jsxs)(t.p,{children:["Para calcular los valores de ",(0,o.jsx)(t.code,{children:"Tot. Precio"})," y ",(0,o.jsx)(t.code,{children:"Tot. Costo"})," de forma din\xe1mica sin desarrollos complejos, se cre\xf3 una ",(0,o.jsx)(t.strong,{children:"Acci\xf3n de Servidor"})," en Python. Esta acci\xf3n recorre los registros seleccionados y actualiza los campos bas\xe1ndose en la cantidad y el precio/costo unitario."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"C\xf3digo Python de la Acci\xf3n:"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:"# Recorremos cada registro seleccionado\nfor record in records:\n    # Verificamos si estamos en la plantilla o en la variante\n    # Para asegurar que siempre tengamos acceso a los precios y costos\n    cant = record.qty_available or 0.0\n    prec = record.list_price or 0.0\n    cost = record.standard_price or 0.0\n    \n    # Calculamos los totales\n    total_precio = prec * cant\n    total_costo = cost * cant\n    \n    # Escribimos aire directamente en el registro\n    record.write({\n        'x_Tot_Precio': total_precio,\n        'x_Tot_Costo': total_costo\n    })\n"})}),"\n",(0,o.jsx)(t.h3,{id:"3-importaci\xf3n-de-datos",children:"3. Importaci\xf3n de Datos"}),"\n",(0,o.jsx)(t.p,{children:"Gracias a esta configuraci\xf3n, la importaci\xf3n de datos se simplifica:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Ve a la vista de lista modificada."}),"\n",(0,o.jsxs)(t.li,{children:["Selecciona ",(0,o.jsx)(t.strong,{children:"Favoritos"})," > ",(0,o.jsx)(t.strong,{children:"Importar registros"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Sube tu archivo conteniendo columnas que coincidan con los nombres de campo (ej. ",(0,o.jsx)(t.code,{children:"x_Sucursal"}),", ",(0,o.jsx)(t.code,{children:"x_Ubicacion_Marathon"}),")."]}),"\n",(0,o.jsx)(t.li,{children:"Odoo reconocer\xe1 y mapear\xe1 autom\xe1ticamente las columnas."}),"\n"]})]})}function x(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453(e,t,n){n.d(t,{R:()=>l,x:()=>s});var i=n(6540);const o={},a=i.createContext(o);function l(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);